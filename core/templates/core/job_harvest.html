{% extends 'core/base.html' %}

{% block content %}

	<h3>Harvest Job for Record Group: {{ record_group.name }}</h3>

	<form method="POST" action="{% url 'job_harvest' org_id=record_group.organization.id record_group_id=record_group.id %}">

		{% csrf_token %}

		<p>Harvest Job Name (optional):
			<input type="text" name="job_name" size=120 placeholder="e.g. Fedora OAI Harvest, 10/10/2017"/>
		<p>
		
		<p>Select OAI endpoint to use:
			<select name="oai_endpoint_id">
				<option value="">Select an oai endpoint...</option>
				{% for oai_endpoint in oai_endpoints %}
					<option value="{{ oai_endpoint.id }}">{{ oai_endpoint.name }}</option>	
				{% endfor %}
			</select>
		<p>

		<p style="color:red;">Below are optional Overrides to OAI endpoint defaults (each is applied separately, if completed):</p>
		<p>OAI Verb:
			<select name="verb">
				<option value="">Select OAI verb...</option>
				<option value="ListRecords">ListRecords</option>
				<option value="ListSets">ListSets</option>
			</select>
		<p>
		<p>OAI metadata prefix:
			<input type="text" name="metadataPrefix" size=30 placeholder="e.g. mods, MODS, oai_dc, etc."/>
		<p>
		<p>Scope type:
			<select name="scope_type">
				<option value="">Select scope type...</option>
				<option value="setList">setList</option>
				<option value="whiteList">whiteList</option>
				<option value="blackList">blackList</option>
				<option value="harvestAllSets">harvestAllSets</option>
			</select>
		<p>
		<p>Scope value:
			<input type="text" name="scope_value" size=120 placeholder="set1,set2,set3 (comma separated)"/>
		<p>
		<p>
			<input type="submit" value="Harvest"/>
		</p>
	</form>

{% endblock %}